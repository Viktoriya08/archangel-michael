var B=Object.defineProperty;var C=(s,e,t)=>e in s?B(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var w=(s,e,t)=>(C(s,typeof e!="symbol"?e+"":e,t),t),j=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var E=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)};var q=(s,e,t)=>(j(s,e,"access private method"),t);import{S as m,N as p,P as g,A as f,T as _,E as A,g as u,a as v,b as I,c as M,d as N}from"./vendor.js";u.registerPlugin(v),document.addEventListener("DOMContentLoaded",()=>{window.initSlimSelect(".default-select__select")});const x={placeholder:"Выберите",searchText:"Ничего не найдено",searchPlaceholder:"Поиск"};window.initSlimSelect=s=>{document.querySelectorAll(s).forEach(e=>{const t=e.getAttribute("data-placeholder"),o=e.hasAttribute("multiple"),i=e.hasAttribute("data-search"),r=e.hasAttribute("data-limit")||5;new I({select:e,settings:{showSearch:i,searchText:x.searchText,searchPlaceholder:x.searchPlaceholder,placeholderText:t||x.placeholder,closeOnSelect:!o,allowDeselect:o,maxValuesShown:!0,maxValuesMessage:"Выбрано: {number}",maxSelected:r,openPosition:"down",contentLocation:e.parentNode}})})},window.onload=function(){(function(s){const e=new IntersectionObserver(o=>{o.forEach(i=>{const r=i.target,a=document.querySelectorAll("#circ");i.isIntersecting&&!r.classList.contains("active")&&(function(l){l.querySelectorAll("[data-counter]").forEach(h=>{M(h,{duration:1e3,dnumberBlockay:5})})}(r),r.classList.add("active"),a.forEach(l=>{l.style.animation="progress 1.5s linear forwards"}))})},{threshold:.25}),t=document.querySelector(`.${s}`);t&&e.observe(t)})("numbers-count")},document.addEventListener("DOMContentLoaded",()=>{window.initDatapicker(".default-datapicker__input")}),window.initDatapicker=s=>{document.querySelectorAll(s).forEach(e=>{new N(e,{range:!0,multipleDatesSeparator:" - ",container:".default-datapicker__box",autoClose:!0})})};class P{constructor(e){this.dropdowns=document.querySelectorAll(`${e}`),this.init()}init(){this.dropdowns.forEach(e=>{const[t,o]=e.children;t.addEventListener("click",()=>{P.toggle(e,o)})})}static toggle(e,t){const o=t;e.classList.contains("active")?(e.classList.remove("active"),o.style.height="0px"):(e.classList.add("active"),o.style.height=`${t.scrollHeight}px`)}}class O{constructor(e){this.links=document.querySelectorAll(e),this.openedPopup=null,this.setListeners()}open(e){const t=this.openedPopup!==document.querySelector(e);if(this.openedPopup&&this.close(this.openedPopup),t){document.body.classList.add("popup-opened");const o=document.querySelector(e);if(!o)return void console.error(e," не найден!");this.openedPopup=o,o.classList.add("opening"),setTimeout(()=>{o.classList.remove("opening"),o.classList.add("opened")},50),o.addEventListener("mousedown",i=>{(i.target.classList.contains("popup")||i.target.classList.contains("popup__close")||i.target.classList.contains("custom-close"))&&this.close(o)})}}close(e){typeof e=="string"&&(e=document.querySelector(e)),e.classList.add("closing"),setTimeout(()=>{e.classList.remove("closing"),e.classList.remove("opened"),document.body.classList.remove("popup-opened")},300),this.openedPopup=null,e.removeEventListener("mousedown",close)}setListeners(){this.links.length<1||this.links.forEach(e=>{e.addEventListener("click",()=>{this.open(e.getAttribute("data-popup"))})})}}var S,k;class D{constructor(){E(this,S);w(this,"containers");w(this,"activeCursors",[]);this.containers=document.querySelectorAll("[data-custom-cursor]").length?document.querySelectorAll("[data-custom-cursor]"):[],this.containers.length&&q(this,S,k).call(this)}}S=new WeakSet,k=function(){this.containers.forEach(e=>{this.activeCursors.push(new U(e))})};var L,V;class U{constructor(e){E(this,L);w(this,"container");w(this,"cursorTemplate");w(this,"templateBounds",{height:0,width:0});w(this,"noCursorElems");this.container=e||null,this.container&&(this.noCursorElems=e.querySelectorAll("[data-default-cursor]")||[],this.cursorTemplate=e.querySelector(e.getAttribute("data-custom-cursor"))||null,this.cursorTemplate&&q(this,L,V).call(this))}}L=new WeakSet,V=function(){this.templateBounds.height=this.cursorTemplate.offsetHeight/2,this.templateBounds.width=this.cursorTemplate.offsetWidth/2,this.container.addEventListener("mouseenter",()=>{window.matchMedia("(max-width: 1024px)").matches||this.cursorTemplate.classList.add("shown")}),this.container.addEventListener("mousemove",e=>{if(e.stopPropagation(),window.matchMedia("(max-width: 1024px)").matches)return;const t=document.documentElement.clientWidth/2;e.clientX>=t?this.cursorTemplate.classList.remove("custom-cursor_left"):this.cursorTemplate.classList.add("custom-cursor_left"),this.cursorTemplate.style.top=e.clientY-this.templateBounds.height+"px",this.cursorTemplate.style.left=e.clientX-this.templateBounds.width+"px"}),this.container.addEventListener("mouseleave",()=>{window.matchMedia("(max-width: 1024px)").matches||this.cursorTemplate.classList.remove("shown")}),Array.from(this.noCursorElems).forEach(e=>{e.addEventListener("mouseenter",t=>{t.stopPropagation(),window.matchMedia("(max-width: 1024px)").matches||this.cursorTemplate.classList.remove("shown")}),e.addEventListener("mouseleave",t=>{t.stopPropagation(),window.matchMedia("(max-width: 1024px)").matches||this.cursorTemplate.classList.add("shown")})})};document.addEventListener("DOMContentLoaded",()=>{window.host!=="archangel-michael.localhost"&&window.initUI()}),window.initUI=function(){(function(){const s=document.querySelector(".mb-slider-js");s&&new m(s,{modules:[p,g,f,_,A],spaceBetween:0,slidesPerView:1,watchSlidesProgress:!0,effect:"fade",loop:!0,navigation:{nextEl:s.querySelector(".main-banner__button--next"),prevEl:s.querySelector(".main-banner__button--prev")},autoplay:{delay:4e3,disableOnInteraction:!1},on:{click:function(n){window.matchMedia("(max-width: 992px)").matches||s.addEventListener("click",t)}}});const e=document.querySelector(".big-slider-js");function t(n){n.stopPropagation();const c=document.documentElement.clientWidth/2;n.clientX>=c?this.swiper.slideNext():this.swiper.slidePrev()}e&&new m(e,{modules:[p,g,f,_,A],spaceBetween:0,slidesPerView:1,watchSlidesProgress:!0,effect:"fade",loop:!0,navigation:{nextEl:e.querySelector(".main-banner__button--next"),prevEl:e.querySelector(".main-banner__button--prev")},on:{click:function(n){window.matchMedia("(max-width: 992px)").matches||e.addEventListener("click",t)}}});const o=document.querySelectorAll(".short-slider-js");o.length&&o.forEach(n=>{new m(n.querySelector(".swiper"),{modules:[p],spaceBetween:0,slidesPerView:1.2,navigation:{nextEl:n.querySelector(".short__btn--next"),prevEl:n.querySelector(".short__btn--prev")},breakpoints:{650:{slidesPerView:1.5,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},960:{slidesPerView:2.3},1360:{slidesPerView:3.1,spaceBetween:0},1850:{slidesPerView:4},1940:{slidesPerView:5}}})});const i=window.matchMedia("(min-width:992px)");let r;const a=function(){if(i.matches!==!0)return i.matches===!1?l():void 0;r!==void 0&&r.destroy(!0,!0)},l=function(){const n=document.querySelectorAll(".slider-mobile");n.length&&n.forEach(c=>{r=new m(c.querySelector(".swiper"),{modules:[p,g],spaceBetween:0,slidesPerView:1.2,breakpoints:{768:{slidesPerView:2.7,spaceBetween:20},960:{slidesPerView:2.3},992:{slidesPerView:3.1,spaceBetween:0}},pagination:{el:c.querySelector(".swiper-pagination"),type:"progressbar"}})})};i.addListener(a),a();const d=document.querySelectorAll(".default-slider");d.length&&d.forEach(n=>{new m(n.querySelector(".default-slider-js"),{modules:[p,g,f],spaceBetween:20,slidesPerView:1,initialSlide:0,breakpoints:{450:{slidesPerView:1.1},700:{slidesPerView:2.1},1200:{slidesPerView:4.1}},pagination:{el:n.querySelector(".swiper-pagination"),type:"progressbar"}})});const h=document.querySelectorAll(".news");h.length&&h.forEach(n=>{new m(n.querySelector(".news-slider-js"),{modules:[p,g,f],spaceBetween:20,slidesPerView:"auto",initialSlide:0,breakpoints:{0:{slidesPerView:1},450:{slidesPerView:1.1},768:{slidesPerView:1.5},1200:{slidesPerView:"auto"}},pagination:{el:n.querySelector(".swiper-pagination"),type:"progressbar"}})});const b=document.querySelectorAll(".section-slider");b&&b.forEach(n=>{new m(n,{modules:[p,g,f],spaceBetween:20,slidesPerView:1,initialSlide:0,navigation:{nextEl:n.querySelector(".section-slider__btn--next"),prevEl:n.querySelector(".section-slider__btn--prev")}})});const y=document.querySelectorAll(".personal-slider-js");y&&y.forEach(n=>{new m(n,{modules:[p,g,f],spaceBetween:0,slidesPerView:2,navigation:{nextEl:n.querySelector(".personal-slider__btn--next"),prevEl:n.querySelector(".personal-slider__btn--prev")}})})})(),function(s,e,t){const o=document.querySelector(s);if(!o)return;const i=document.querySelector(e),r=document.querySelector(t),a=document.querySelector("body");function l(d){d.target===i||i.contains(d.target)||(o.classList.toggle("opened"),r.classList.toggle("opened"),a.classList.toggle("mobilemenu-opened"),document.removeEventListener("click",l))}o.addEventListener("click",()=>{a.classList.contains("mobilemenu-opened")?document.removeEventListener("click",l):setTimeout(()=>{document.addEventListener("click",l)}),o.classList.toggle("opened"),r.classList.toggle("opened"),a.classList.toggle("mobilemenu-opened")})}(".burger",".header__nav",".header"),function(){const s=document.querySelector(".header-1");s&&window.addEventListener("scroll",()=>{window.scrollY==0?s.classList.remove("scroll"):s.classList.add("scroll")})}(),new D,function(){function s(e,t){const o=document.querySelectorAll(`.${e}`),i=t.animationClass||"animate",r=t.treshold||.45,a=t.isReturnable||!1,l=Number.isNaN(t.delayStart)?.25:t.delayStart,d=Number.isNaN(t.delayShift)?.1:t.delayShift,h={rootMargin:"0px",threshold:r};if(window.matchMedia("(max-width: 768px)").matches&&(h.threshold=+r-.1),o){const b=new IntersectionObserver(y=>{let n=Number.isNaN(l)?.25:l;y.forEach(c=>{c.isIntersecting&&c.target.classList.contains(e)?(d&&d!==0&&(c.target.setAttribute("style",`animation-delay: ${n}s;`),n+=d),c.target.classList.add(i),c.target.addEventListener("animationend",T=>{T.stopImmediatePropagation(),c.target.classList.remove(e,i),c.target.removeAttribute("style")},{once:!0})):a&&c.target.classList.add(e)})},h);o.forEach(y=>{b.observe(y)})}}s("fadeInUp",{animationClass:"js-visible"}),s("fadeInLeft",{animationClass:"js-visible"}),s("fadeInRight",{animationClass:"js-visible"}),s("fadeInBottom",{animationClass:"js-visible"}),s("fadeInLeftFaster",{animationClass:"js-visible"}),s("cardRotate",{animationClass:"js-visible"}),s("cardBgVisible",{animationClass:"js-visible"})}(),function(s){const e=u.from(s,{yPercent:-100,paused:!0,duration:.2}).progress(1);v.create({start:"top top",end:99999,toggleClass:{className:"header-scroll",targets:s},onUpdate:t=>{t.direction===-1?e.play():e.reverse()}})}(".header"),function(s){const e=u.utils.toArray(s);e&&e.forEach(t=>{const o=t.getAttribute("data-paralax"),i=document.querySelector(`[data-paralax-down='${o}']`);if(!o&&!i)return;u.set(i,{yPercent:-60});const r=u.timeline({paused:!0});v.create({trigger:t,start:"bottom-=100px bottom",end:"center+=50% center",animation:r.to(i,{yPercent:0,ease:"none"}),scrub:!0})})}("[data-paralax]"),function(s){const e=u.utils.toArray(".parallax-section");e&&e.forEach(t=>{v.create({trigger:t,pin:t,pinSpacing:!1,start:"top top",end:"bottom",markers:!0})})}(),function(s){const e=document.querySelector(".footer");if(!document.querySelector(".js-paralax")||!e)return;u.set(e,{yPercent:-110});const t=u.timeline({paused:!0});v.create({trigger:".js-paralax",start:"bottom-=200px bottom",end:"+=650",animation:t.to(e,{yPercent:0,ease:"none"}),scrub:!0})}(),function(s){let e=!1;if(document.querySelector(".main-loader")&&e==0){const t=document.querySelector("html"),o=u.timeline({onComplete:()=>t.classList.remove("popup-opened")});o.startTime(1.3),o.to("html",0,{className:"popup-opened"}).to(".main-loader__count",{duration:0,opacity:1}).to(".main-loader__box",{duration:0,opacity:1}).from(".wings-center",{duration:1,scale:0,transformOrigin:"50% 50% 50%",ease:"elastic"}).from(".sword",{y:-400,duration:.3}).add("wings-start").from(".wings-el-right",{scale:0,transformOrigin:"20% 100%"},"wings-start").from(".wings-el-left",{scale:0,transformOrigin:"80% 100%"},"wings-start").to(".main-loader__bg",{bottom:0,duration:1,delay:.5}).to(".main-loader",{height:0,duration:1}),e=!0}}(),function(){const s=document.querySelectorAll(".js-copy-link");s&&s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.querySelector(".share__input").value.trim(),i=e.querySelector(".share__result");window.navigator.clipboard.writeText(o),i.classList.add("fadeInUp","js-visible"),setTimeout(()=>{i.classList.remove("fadeInUp","js-visible")},1500)})})}(),new P("[data-dropdown]"),window.popup=new O("[data-popup]"),function(){const s=document.querySelectorAll("[data-video]");s.length&&s.forEach(e=>{const t=e.querySelector(".video__video--desk"),o=e.querySelector(".video__video--mobile"),i=e.querySelector("button");let r=!1;const a=window.matchMedia("(min-width: 768px)");i==null||i.addEventListener("click",()=>{r?(a.matches?t.pause():o.pause(),r=!1,i.classList.remove("hide"),e.classList.remove("play-video")):(e.classList.add("play-video"),i.classList.add("hide"),r=!0,a.matches?t.play():o.play())})})}()};
